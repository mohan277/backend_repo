{"filter":false,"title":"test_user_admin_login_interactor.py","tooltip":"/ib_miniprojects_backend/project_management_portal/tests/interactors/test_user_admin_login_interactor.py","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":129,"column":31},"end":{"row":129,"column":34},"action":"remove","lines":["ass"],"id":268},{"start":{"row":129,"column":31},"end":{"row":129,"column":54},"action":"insert","lines":["assert_called_once_with"]}],[{"start":{"row":129,"column":54},"end":{"row":129,"column":56},"action":"insert","lines":["()"],"id":269}],[{"start":{"row":129,"column":55},"end":{"row":129,"column":56},"action":"insert","lines":["a"],"id":270},{"start":{"row":129,"column":56},"end":{"row":129,"column":57},"action":"insert","lines":["c"]},{"start":{"row":129,"column":57},"end":{"row":129,"column":58},"action":"insert","lines":["c"]}],[{"start":{"row":129,"column":57},"end":{"row":129,"column":58},"action":"remove","lines":["c"],"id":271},{"start":{"row":129,"column":56},"end":{"row":129,"column":57},"action":"remove","lines":["c"]},{"start":{"row":129,"column":55},"end":{"row":129,"column":56},"action":"remove","lines":["a"]}],[{"start":{"row":129,"column":55},"end":{"row":129,"column":56},"action":"insert","lines":["i"],"id":272},{"start":{"row":129,"column":56},"end":{"row":129,"column":57},"action":"insert","lines":["s"]}],[{"start":{"row":129,"column":55},"end":{"row":129,"column":57},"action":"remove","lines":["is"],"id":273},{"start":{"row":129,"column":55},"end":{"row":129,"column":63},"action":"insert","lines":["is_admin"]}],[{"start":{"row":129,"column":63},"end":{"row":129,"column":64},"action":"insert","lines":["="],"id":274},{"start":{"row":129,"column":64},"end":{"row":129,"column":65},"action":"insert","lines":["i"]},{"start":{"row":129,"column":65},"end":{"row":129,"column":66},"action":"insert","lines":["s"]}],[{"start":{"row":129,"column":64},"end":{"row":129,"column":66},"action":"remove","lines":["is"],"id":275},{"start":{"row":129,"column":64},"end":{"row":129,"column":72},"action":"insert","lines":["is_admin"]}],[{"start":{"row":129,"column":72},"end":{"row":130,"column":0},"action":"insert","lines":["",""],"id":276},{"start":{"row":130,"column":0},"end":{"row":130,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":130,"column":4},"end":{"row":130,"column":8},"action":"insert","lines":["    "],"id":277}],[{"start":{"row":130,"column":8},"end":{"row":130,"column":12},"action":"insert","lines":["    "],"id":278}],[{"start":{"row":130,"column":12},"end":{"row":130,"column":16},"action":"insert","lines":["    "],"id":279}],[{"start":{"row":130,"column":16},"end":{"row":130,"column":20},"action":"insert","lines":["    "],"id":280}],[{"start":{"row":130,"column":20},"end":{"row":130,"column":24},"action":"insert","lines":["    "],"id":281}],[{"start":{"row":130,"column":24},"end":{"row":130,"column":28},"action":"insert","lines":["    "],"id":282}],[{"start":{"row":130,"column":28},"end":{"row":130,"column":32},"action":"insert","lines":["    "],"id":283}],[{"start":{"row":130,"column":32},"end":{"row":130,"column":36},"action":"insert","lines":["    "],"id":284}],[{"start":{"row":130,"column":36},"end":{"row":130,"column":40},"action":"insert","lines":["    "],"id":285}],[{"start":{"row":130,"column":40},"end":{"row":130,"column":44},"action":"insert","lines":["    "],"id":286}],[{"start":{"row":130,"column":44},"end":{"row":130,"column":48},"action":"insert","lines":["    "],"id":287}],[{"start":{"row":130,"column":48},"end":{"row":130,"column":52},"action":"insert","lines":["    "],"id":288}],[{"start":{"row":130,"column":52},"end":{"row":130,"column":56},"action":"insert","lines":["    "],"id":289}],[{"start":{"row":130,"column":56},"end":{"row":130,"column":60},"action":"insert","lines":["    "],"id":290}],[{"start":{"row":130,"column":56},"end":{"row":130,"column":60},"action":"remove","lines":["    "],"id":291}],[{"start":{"row":130,"column":56},"end":{"row":130,"column":57},"action":"insert","lines":["a"],"id":292},{"start":{"row":130,"column":57},"end":{"row":130,"column":58},"action":"insert","lines":["c"]},{"start":{"row":130,"column":58},"end":{"row":130,"column":59},"action":"insert","lines":["c"]}],[{"start":{"row":130,"column":56},"end":{"row":130,"column":59},"action":"remove","lines":["acc"],"id":293},{"start":{"row":130,"column":56},"end":{"row":130,"column":72},"action":"insert","lines":["access_token_dto"]}],[{"start":{"row":130,"column":71},"end":{"row":130,"column":72},"action":"remove","lines":["o"],"id":294},{"start":{"row":130,"column":70},"end":{"row":130,"column":71},"action":"remove","lines":["t"]},{"start":{"row":130,"column":69},"end":{"row":130,"column":70},"action":"remove","lines":["d"]},{"start":{"row":130,"column":68},"end":{"row":130,"column":69},"action":"remove","lines":["_"]}],[{"start":{"row":130,"column":68},"end":{"row":130,"column":69},"action":"insert","lines":["="],"id":295},{"start":{"row":130,"column":69},"end":{"row":130,"column":70},"action":"insert","lines":["a"]},{"start":{"row":130,"column":70},"end":{"row":130,"column":71},"action":"insert","lines":["c"]},{"start":{"row":130,"column":71},"end":{"row":130,"column":72},"action":"insert","lines":["c"]}],[{"start":{"row":130,"column":69},"end":{"row":130,"column":72},"action":"remove","lines":["acc"],"id":296},{"start":{"row":130,"column":69},"end":{"row":130,"column":81},"action":"insert","lines":["access_token"]}],[{"start":{"row":129,"column":55},"end":{"row":130,"column":0},"action":"insert","lines":["",""],"id":297},{"start":{"row":130,"column":0},"end":{"row":130,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":131,"column":0},"end":{"row":131,"column":56},"action":"remove","lines":["                                                        "],"id":298},{"start":{"row":131,"column":0},"end":{"row":131,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":131,"column":4},"end":{"row":131,"column":8},"action":"insert","lines":["    "],"id":299}],[{"start":{"row":128,"column":0},"end":{"row":128,"column":4},"action":"remove","lines":["    "],"id":300}],[{"start":{"row":131,"column":34},"end":{"row":132,"column":0},"action":"insert","lines":["",""],"id":301},{"start":{"row":132,"column":0},"end":{"row":132,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":132,"column":0},"end":{"row":132,"column":8},"action":"remove","lines":["        "],"id":302}],[{"start":{"row":130,"column":25},"end":{"row":130,"column":26},"action":"insert","lines":[","],"id":303}],[{"start":{"row":96,"column":15},"end":{"row":97,"column":0},"action":"insert","lines":["",""],"id":304},{"start":{"row":97,"column":0},"end":{"row":97,"column":4},"action":"insert","lines":["    "]},{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"insert","lines":["i"]},{"start":{"row":97,"column":5},"end":{"row":97,"column":6},"action":"insert","lines":["s"]},{"start":{"row":97,"column":6},"end":{"row":97,"column":7},"action":"insert","lines":["_"]}],[{"start":{"row":97,"column":4},"end":{"row":97,"column":7},"action":"remove","lines":["is_"],"id":305},{"start":{"row":97,"column":4},"end":{"row":97,"column":12},"action":"insert","lines":["is_admin"]}],[{"start":{"row":97,"column":12},"end":{"row":97,"column":13},"action":"insert","lines":[" "],"id":306},{"start":{"row":97,"column":13},"end":{"row":97,"column":14},"action":"insert","lines":["="]}],[{"start":{"row":97,"column":14},"end":{"row":97,"column":15},"action":"insert","lines":[" "],"id":307},{"start":{"row":97,"column":15},"end":{"row":97,"column":16},"action":"insert","lines":["T"]}],[{"start":{"row":97,"column":15},"end":{"row":97,"column":16},"action":"remove","lines":["T"],"id":308},{"start":{"row":97,"column":15},"end":{"row":97,"column":19},"action":"insert","lines":["True"]}],[{"start":{"row":101,"column":0},"end":{"row":102,"column":0},"action":"insert","lines":["        access_token=\"1234\",",""],"id":309}],[{"start":{"row":101,"column":0},"end":{"row":102,"column":0},"action":"remove","lines":["        access_token=\"1234\",",""],"id":310},{"start":{"row":100,"column":0},"end":{"row":101,"column":0},"action":"insert","lines":["        access_token=\"1234\",",""]}],[{"start":{"row":100,"column":0},"end":{"row":101,"column":0},"action":"remove","lines":["        access_token=\"1234\",",""],"id":311},{"start":{"row":99,"column":0},"end":{"row":100,"column":0},"action":"insert","lines":["        access_token=\"1234\",",""]}],[{"start":{"row":99,"column":0},"end":{"row":100,"column":0},"action":"remove","lines":["        access_token=\"1234\",",""],"id":312},{"start":{"row":98,"column":0},"end":{"row":99,"column":0},"action":"insert","lines":["        access_token=\"1234\",",""]}],[{"start":{"row":98,"column":4},"end":{"row":98,"column":8},"action":"remove","lines":["    "],"id":313}],[{"start":{"row":17,"column":18},"end":{"row":17,"column":19},"action":"remove","lines":["n"],"id":314},{"start":{"row":17,"column":17},"end":{"row":17,"column":18},"action":"remove","lines":["i"]},{"start":{"row":17,"column":16},"end":{"row":17,"column":17},"action":"remove","lines":["m"]},{"start":{"row":17,"column":15},"end":{"row":17,"column":16},"action":"remove","lines":["d"]},{"start":{"row":17,"column":14},"end":{"row":17,"column":15},"action":"remove","lines":["a"]},{"start":{"row":17,"column":13},"end":{"row":17,"column":14},"action":"remove","lines":["_"]}],[{"start":{"row":25,"column":26},"end":{"row":25,"column":27},"action":"remove","lines":[")"],"id":315},{"start":{"row":25,"column":25},"end":{"row":25,"column":26},"action":"remove","lines":["("]},{"start":{"row":25,"column":24},"end":{"row":25,"column":25},"action":"remove","lines":["k"]},{"start":{"row":25,"column":23},"end":{"row":25,"column":24},"action":"remove","lines":["c"]},{"start":{"row":25,"column":22},"end":{"row":25,"column":23},"action":"remove","lines":["o"]},{"start":{"row":25,"column":21},"end":{"row":25,"column":22},"action":"remove","lines":["M"]}],[{"start":{"row":25,"column":21},"end":{"row":25,"column":22},"action":"insert","lines":["c"],"id":316},{"start":{"row":25,"column":22},"end":{"row":25,"column":23},"action":"insert","lines":["r"]},{"start":{"row":25,"column":23},"end":{"row":25,"column":24},"action":"insert","lines":["e"]},{"start":{"row":25,"column":24},"end":{"row":25,"column":25},"action":"insert","lines":["a"]},{"start":{"row":25,"column":25},"end":{"row":25,"column":26},"action":"insert","lines":["t"]}],[{"start":{"row":25,"column":21},"end":{"row":25,"column":26},"action":"remove","lines":["creat"],"id":317},{"start":{"row":25,"column":21},"end":{"row":25,"column":36},"action":"insert","lines":["create_autospec"]}],[{"start":{"row":25,"column":36},"end":{"row":25,"column":38},"action":"insert","lines":["()"],"id":318}],[{"start":{"row":25,"column":37},"end":{"row":25,"column":38},"action":"insert","lines":["O"],"id":319},{"start":{"row":25,"column":38},"end":{"row":25,"column":39},"action":"insert","lines":["A"]}],[{"start":{"row":25,"column":37},"end":{"row":25,"column":39},"action":"remove","lines":["OA"],"id":320},{"start":{"row":25,"column":37},"end":{"row":25,"column":53},"action":"insert","lines":["OAuth2SQLStorage"]}],[{"start":{"row":34,"column":24},"end":{"row":34,"column":25},"action":"remove","lines":["f"],"id":321},{"start":{"row":34,"column":23},"end":{"row":34,"column":24},"action":"remove","lines":["o"]},{"start":{"row":34,"column":22},"end":{"row":34,"column":23},"action":"remove","lines":["_"]},{"start":{"row":34,"column":21},"end":{"row":34,"column":22},"action":"remove","lines":["n"]},{"start":{"row":34,"column":20},"end":{"row":34,"column":21},"action":"remove","lines":["o"]},{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"remove","lines":["i"]}],[{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"insert","lines":["e"],"id":322}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":52},"action":"remove","lines":["NotFound"],"id":323},{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"insert","lines":["I"]},{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"insert","lines":["n"]}],[{"start":{"row":34,"column":46},"end":{"row":34,"column":47},"action":"insert","lines":["v"],"id":324},{"start":{"row":34,"column":47},"end":{"row":34,"column":48},"action":"insert","lines":["a"]},{"start":{"row":34,"column":48},"end":{"row":34,"column":49},"action":"insert","lines":["l"]},{"start":{"row":34,"column":49},"end":{"row":34,"column":50},"action":"insert","lines":["i"]},{"start":{"row":34,"column":50},"end":{"row":34,"column":51},"action":"insert","lines":["d"]},{"start":{"row":34,"column":51},"end":{"row":34,"column":52},"action":"insert","lines":["U"]}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":52},"action":"remove","lines":["InvalidU"],"id":325},{"start":{"row":34,"column":44},"end":{"row":34,"column":70},"action":"insert","lines":["InvalidUsernameException()"]}],[{"start":{"row":34,"column":68},"end":{"row":34,"column":70},"action":"remove","lines":["()"],"id":326}],[{"start":{"row":45,"column":24},"end":{"row":45,"column":25},"action":"remove","lines":["f"],"id":327},{"start":{"row":45,"column":23},"end":{"row":45,"column":24},"action":"remove","lines":["o"]},{"start":{"row":45,"column":22},"end":{"row":45,"column":23},"action":"remove","lines":["_"]},{"start":{"row":45,"column":21},"end":{"row":45,"column":22},"action":"remove","lines":["n"]},{"start":{"row":45,"column":20},"end":{"row":45,"column":21},"action":"remove","lines":["o"]},{"start":{"row":45,"column":19},"end":{"row":45,"column":20},"action":"remove","lines":["i"]},{"start":{"row":45,"column":18},"end":{"row":45,"column":19},"action":"remove","lines":["t"]}],[{"start":{"row":45,"column":18},"end":{"row":45,"column":19},"action":"insert","lines":["t"],"id":328},{"start":{"row":45,"column":19},"end":{"row":45,"column":20},"action":"insert","lines":["e"]}],[{"start":{"row":49,"column":24},"end":{"row":49,"column":25},"action":"remove","lines":["e"],"id":329},{"start":{"row":49,"column":23},"end":{"row":49,"column":24},"action":"remove","lines":["m"]},{"start":{"row":49,"column":22},"end":{"row":49,"column":23},"action":"remove","lines":["a"]},{"start":{"row":49,"column":21},"end":{"row":49,"column":22},"action":"remove","lines":["n"]},{"start":{"row":49,"column":20},"end":{"row":49,"column":21},"action":"remove","lines":["r"]},{"start":{"row":49,"column":19},"end":{"row":49,"column":20},"action":"remove","lines":["e"]},{"start":{"row":49,"column":18},"end":{"row":49,"column":19},"action":"remove","lines":["s"]},{"start":{"row":49,"column":17},"end":{"row":49,"column":18},"action":"remove","lines":["u"]},{"start":{"row":49,"column":16},"end":{"row":49,"column":17},"action":"remove","lines":["="]},{"start":{"row":49,"column":15},"end":{"row":49,"column":16},"action":"remove","lines":["e"]},{"start":{"row":49,"column":14},"end":{"row":49,"column":15},"action":"remove","lines":["m"]},{"start":{"row":49,"column":13},"end":{"row":49,"column":14},"action":"remove","lines":["a"]}],[{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"remove","lines":["    "],"id":330},{"start":{"row":49,"column":13},"end":{"row":50,"column":0},"action":"remove","lines":["",""]},{"start":{"row":49,"column":12},"end":{"row":49,"column":13},"action":"remove","lines":["n"]},{"start":{"row":49,"column":11},"end":{"row":49,"column":12},"action":"remove","lines":["r"]},{"start":{"row":49,"column":10},"end":{"row":49,"column":11},"action":"remove","lines":["e"]},{"start":{"row":49,"column":9},"end":{"row":49,"column":10},"action":"remove","lines":["s"]},{"start":{"row":49,"column":8},"end":{"row":49,"column":9},"action":"remove","lines":["u"]},{"start":{"row":49,"column":4},"end":{"row":49,"column":8},"action":"remove","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"remove","lines":["    "]},{"start":{"row":48,"column":61},"end":{"row":49,"column":0},"action":"remove","lines":["",""]},{"start":{"row":48,"column":60},"end":{"row":48,"column":62},"action":"remove","lines":["()"]}],[{"start":{"row":48,"column":59},"end":{"row":48,"column":60},"action":"remove","lines":["h"],"id":331},{"start":{"row":48,"column":58},"end":{"row":48,"column":59},"action":"remove","lines":["t"]},{"start":{"row":48,"column":57},"end":{"row":48,"column":58},"action":"remove","lines":["i"]},{"start":{"row":48,"column":56},"end":{"row":48,"column":57},"action":"remove","lines":["w"]},{"start":{"row":48,"column":55},"end":{"row":48,"column":56},"action":"remove","lines":["_"]}],[{"start":{"row":48,"column":55},"end":{"row":48,"column":57},"action":"insert","lines":["()"],"id":332}],[{"start":{"row":51,"column":19},"end":{"row":51,"column":20},"action":"remove","lines":["_"],"id":333},{"start":{"row":51,"column":18},"end":{"row":51,"column":19},"action":"remove","lines":["n"]},{"start":{"row":51,"column":17},"end":{"row":51,"column":18},"action":"remove","lines":["i"]},{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"remove","lines":["m"]},{"start":{"row":51,"column":15},"end":{"row":51,"column":16},"action":"remove","lines":["d"]},{"start":{"row":51,"column":14},"end":{"row":51,"column":15},"action":"remove","lines":["a"]},{"start":{"row":51,"column":13},"end":{"row":51,"column":14},"action":"remove","lines":["_"]}],[{"start":{"row":51,"column":13},"end":{"row":51,"column":14},"action":"insert","lines":["_"],"id":334}],[{"start":{"row":49,"column":0},"end":{"row":81,"column":0},"action":"insert","lines":["def test_user_login_with_invalid_username():","","    # Arrange","    username = \"mohana\"","    password = \"krisna\"","","    storage = create_autospec(LoginStorageInterface)","    presenter = create_autospec(PresenterInterface)","    oauth2_storage = create_autospec(OAuth2SQLStorage)","","","    interactor = LoginInteractor(","        storage=storage,","        presenter=presenter,","        oauth2_storage=oauth2_storage","    )","","    storage.validate_username.side_effect = InvalidUsernameException","    presenter.raise_invalid_username.side_effect =  NotFound","","    # Act","    with pytest.raises(NotFound):","        interactor.login(","            username=username,","            password=password","        )","","    # Assert","    storage.validate_username.assert_called_once_with(","        username=username","    )","    presenter.raise_invalid_username.assert_called_once()",""],"id":335}],[{"start":{"row":49,"column":0},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":336},{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":85,"column":0},"end":{"row":121,"column":0},"action":"remove","lines":["def test_user_login_with_invalid_password():","","    # Arrange","    username = \"mohana\"","    password = \"krisna\"","","    storage = create_autospec(LoginStorageInterface)","    presenter = create_autospec(PresenterInterface)","    oauth2_storage = Mock()","","","    interactor = LoginInteractor(","        storage=storage,","        presenter=presenter,","        oauth2_storage=oauth2_storage","    )","","    storage.validation_of_password.side_effect = NotFound","    presenter.raise_invalid_password.side_effect =  NotFound","","    # Act","    with pytest.raises(NotFound):","        interactor.login(","            username=username,","            password=password","        )","","    # Assert","    storage.validation_of_password.assert_called_once_with(","        username=username,","        password=password","    )","    presenter.raise_invalid_password.assert_called_once_with(","        username=username,","        password=password","    )",""],"id":337},{"start":{"row":84,"column":0},"end":{"row":85,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":83,"column":0},"end":{"row":84,"column":0},"action":"remove","lines":["",""],"id":338}],[{"start":{"row":51,"column":40},"end":{"row":51,"column":41},"action":"remove","lines":["e"],"id":339},{"start":{"row":51,"column":39},"end":{"row":51,"column":40},"action":"remove","lines":["m"]},{"start":{"row":51,"column":38},"end":{"row":51,"column":39},"action":"remove","lines":["a"]},{"start":{"row":51,"column":37},"end":{"row":51,"column":38},"action":"remove","lines":["n"]},{"start":{"row":51,"column":36},"end":{"row":51,"column":37},"action":"remove","lines":["r"]},{"start":{"row":51,"column":35},"end":{"row":51,"column":36},"action":"remove","lines":["e"]},{"start":{"row":51,"column":34},"end":{"row":51,"column":35},"action":"remove","lines":["s"]},{"start":{"row":51,"column":33},"end":{"row":51,"column":34},"action":"remove","lines":["u"]}],[{"start":{"row":51,"column":33},"end":{"row":51,"column":34},"action":"insert","lines":["p"],"id":340},{"start":{"row":51,"column":34},"end":{"row":51,"column":35},"action":"insert","lines":["a"]},{"start":{"row":51,"column":35},"end":{"row":51,"column":36},"action":"insert","lines":["s"]},{"start":{"row":51,"column":36},"end":{"row":51,"column":37},"action":"insert","lines":["s"]},{"start":{"row":51,"column":37},"end":{"row":51,"column":38},"action":"insert","lines":["w"]},{"start":{"row":51,"column":38},"end":{"row":51,"column":39},"action":"insert","lines":["o"]},{"start":{"row":51,"column":39},"end":{"row":51,"column":40},"action":"insert","lines":["r"]},{"start":{"row":51,"column":40},"end":{"row":51,"column":41},"action":"insert","lines":["d"]}],[{"start":{"row":68,"column":28},"end":{"row":68,"column":29},"action":"remove","lines":["e"],"id":341},{"start":{"row":68,"column":27},"end":{"row":68,"column":28},"action":"remove","lines":["m"]},{"start":{"row":68,"column":26},"end":{"row":68,"column":27},"action":"remove","lines":["a"]},{"start":{"row":68,"column":25},"end":{"row":68,"column":26},"action":"remove","lines":["n"]},{"start":{"row":68,"column":24},"end":{"row":68,"column":25},"action":"remove","lines":["r"]},{"start":{"row":68,"column":23},"end":{"row":68,"column":24},"action":"remove","lines":["e"]},{"start":{"row":68,"column":22},"end":{"row":68,"column":23},"action":"remove","lines":["s"]},{"start":{"row":68,"column":21},"end":{"row":68,"column":22},"action":"remove","lines":["u"]}],[{"start":{"row":68,"column":21},"end":{"row":68,"column":22},"action":"insert","lines":["p"],"id":342},{"start":{"row":68,"column":22},"end":{"row":68,"column":23},"action":"insert","lines":["a"]},{"start":{"row":68,"column":23},"end":{"row":68,"column":24},"action":"insert","lines":["s"]},{"start":{"row":68,"column":24},"end":{"row":68,"column":25},"action":"insert","lines":["s"]},{"start":{"row":68,"column":25},"end":{"row":68,"column":26},"action":"insert","lines":["w"]}],[{"start":{"row":68,"column":12},"end":{"row":68,"column":26},"action":"remove","lines":["validate_passw"],"id":343},{"start":{"row":68,"column":12},"end":{"row":68,"column":29},"action":"insert","lines":["validate_password"]}],[{"start":{"row":68,"column":51},"end":{"row":68,"column":59},"action":"remove","lines":["Username"],"id":344},{"start":{"row":68,"column":51},"end":{"row":68,"column":52},"action":"insert","lines":["P"]}],[{"start":{"row":68,"column":44},"end":{"row":68,"column":52},"action":"remove","lines":["InvalidP"],"id":345},{"start":{"row":68,"column":44},"end":{"row":68,"column":70},"action":"insert","lines":["InvalidPasswordException()"]}],[{"start":{"row":68,"column":68},"end":{"row":68,"column":70},"action":"remove","lines":["()"],"id":346}],[{"start":{"row":68,"column":68},"end":{"row":68,"column":77},"action":"remove","lines":["Exception"],"id":347}],[{"start":{"row":79,"column":28},"end":{"row":79,"column":29},"action":"remove","lines":["e"],"id":348},{"start":{"row":79,"column":27},"end":{"row":79,"column":28},"action":"remove","lines":["m"]},{"start":{"row":79,"column":26},"end":{"row":79,"column":27},"action":"remove","lines":["a"]},{"start":{"row":79,"column":25},"end":{"row":79,"column":26},"action":"remove","lines":["n"]},{"start":{"row":79,"column":24},"end":{"row":79,"column":25},"action":"remove","lines":["r"]},{"start":{"row":79,"column":23},"end":{"row":79,"column":24},"action":"remove","lines":["e"]},{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"remove","lines":["s"]},{"start":{"row":79,"column":21},"end":{"row":79,"column":22},"action":"remove","lines":["u"]}],[{"start":{"row":79,"column":21},"end":{"row":79,"column":22},"action":"insert","lines":["p"],"id":349},{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"insert","lines":["a"]},{"start":{"row":79,"column":23},"end":{"row":79,"column":24},"action":"insert","lines":["s"]},{"start":{"row":79,"column":24},"end":{"row":79,"column":25},"action":"insert","lines":["s"]}],[{"start":{"row":79,"column":12},"end":{"row":79,"column":25},"action":"remove","lines":["validate_pass"],"id":350},{"start":{"row":79,"column":12},"end":{"row":79,"column":29},"action":"insert","lines":["validate_password"]}],[{"start":{"row":82,"column":35},"end":{"row":82,"column":36},"action":"remove","lines":["e"],"id":351},{"start":{"row":82,"column":34},"end":{"row":82,"column":35},"action":"remove","lines":["m"]},{"start":{"row":82,"column":33},"end":{"row":82,"column":34},"action":"remove","lines":["a"]},{"start":{"row":82,"column":32},"end":{"row":82,"column":33},"action":"remove","lines":["n"]},{"start":{"row":82,"column":31},"end":{"row":82,"column":32},"action":"remove","lines":["r"]},{"start":{"row":82,"column":30},"end":{"row":82,"column":31},"action":"remove","lines":["e"]},{"start":{"row":82,"column":29},"end":{"row":82,"column":30},"action":"remove","lines":["s"]},{"start":{"row":82,"column":28},"end":{"row":82,"column":29},"action":"remove","lines":["u"]}],[{"start":{"row":82,"column":28},"end":{"row":82,"column":29},"action":"insert","lines":["p"],"id":352},{"start":{"row":82,"column":29},"end":{"row":82,"column":30},"action":"insert","lines":["a"]},{"start":{"row":82,"column":30},"end":{"row":82,"column":31},"action":"insert","lines":["s"]},{"start":{"row":82,"column":31},"end":{"row":82,"column":32},"action":"insert","lines":["s"]},{"start":{"row":82,"column":32},"end":{"row":82,"column":33},"action":"insert","lines":["w"]},{"start":{"row":82,"column":33},"end":{"row":82,"column":34},"action":"insert","lines":["o"]}],[{"start":{"row":82,"column":34},"end":{"row":82,"column":35},"action":"insert","lines":["r"],"id":353},{"start":{"row":82,"column":35},"end":{"row":82,"column":36},"action":"insert","lines":["d"]}],[{"start":{"row":69,"column":35},"end":{"row":69,"column":36},"action":"remove","lines":["e"],"id":354},{"start":{"row":69,"column":34},"end":{"row":69,"column":35},"action":"remove","lines":["m"]},{"start":{"row":69,"column":33},"end":{"row":69,"column":34},"action":"remove","lines":["a"]},{"start":{"row":69,"column":32},"end":{"row":69,"column":33},"action":"remove","lines":["n"]},{"start":{"row":69,"column":31},"end":{"row":69,"column":32},"action":"remove","lines":["r"]},{"start":{"row":69,"column":30},"end":{"row":69,"column":31},"action":"remove","lines":["e"]},{"start":{"row":69,"column":29},"end":{"row":69,"column":30},"action":"remove","lines":["s"]},{"start":{"row":69,"column":28},"end":{"row":69,"column":29},"action":"remove","lines":["u"]}],[{"start":{"row":69,"column":28},"end":{"row":69,"column":29},"action":"insert","lines":["p"],"id":355},{"start":{"row":69,"column":29},"end":{"row":69,"column":30},"action":"insert","lines":["a"]}],[{"start":{"row":69,"column":14},"end":{"row":69,"column":30},"action":"remove","lines":["raise_invalid_pa"],"id":356},{"start":{"row":69,"column":14},"end":{"row":69,"column":36},"action":"insert","lines":["raise_invalid_password"]}],[{"start":{"row":80,"column":25},"end":{"row":80,"column":26},"action":"insert","lines":[","],"id":357}],[{"start":{"row":80,"column":26},"end":{"row":81,"column":0},"action":"insert","lines":["",""],"id":358},{"start":{"row":81,"column":0},"end":{"row":81,"column":8},"action":"insert","lines":["        "]},{"start":{"row":81,"column":8},"end":{"row":81,"column":9},"action":"insert","lines":["p"]},{"start":{"row":81,"column":9},"end":{"row":81,"column":10},"action":"insert","lines":["a"]},{"start":{"row":81,"column":10},"end":{"row":81,"column":11},"action":"insert","lines":["s"]},{"start":{"row":81,"column":11},"end":{"row":81,"column":12},"action":"insert","lines":["s"]}],[{"start":{"row":81,"column":8},"end":{"row":81,"column":12},"action":"remove","lines":["pass"],"id":359},{"start":{"row":81,"column":8},"end":{"row":81,"column":16},"action":"insert","lines":["password"]}],[{"start":{"row":81,"column":16},"end":{"row":81,"column":17},"action":"insert","lines":["="],"id":360},{"start":{"row":81,"column":17},"end":{"row":81,"column":18},"action":"insert","lines":["p"]},{"start":{"row":81,"column":18},"end":{"row":81,"column":19},"action":"insert","lines":["a"]},{"start":{"row":81,"column":19},"end":{"row":81,"column":20},"action":"insert","lines":["s"]},{"start":{"row":81,"column":20},"end":{"row":81,"column":21},"action":"insert","lines":["s"]}],[{"start":{"row":81,"column":17},"end":{"row":81,"column":21},"action":"remove","lines":["pass"],"id":361},{"start":{"row":81,"column":17},"end":{"row":81,"column":25},"action":"insert","lines":["password"]}],[{"start":{"row":95,"column":4},"end":{"row":95,"column":6},"action":"insert","lines":["# "],"id":362},{"start":{"row":96,"column":4},"end":{"row":96,"column":6},"action":"insert","lines":["# "]},{"start":{"row":97,"column":4},"end":{"row":97,"column":6},"action":"insert","lines":["# "]},{"start":{"row":98,"column":4},"end":{"row":98,"column":6},"action":"insert","lines":["# "]},{"start":{"row":99,"column":4},"end":{"row":99,"column":6},"action":"insert","lines":["# "]}],[{"start":{"row":91,"column":4},"end":{"row":91,"column":6},"action":"insert","lines":["# "],"id":363}],[{"start":{"row":105,"column":4},"end":{"row":105,"column":6},"action":"insert","lines":["# "],"id":364}],[{"start":{"row":95,"column":4},"end":{"row":95,"column":6},"action":"remove","lines":["# "],"id":365},{"start":{"row":96,"column":4},"end":{"row":96,"column":6},"action":"remove","lines":["# "]},{"start":{"row":97,"column":4},"end":{"row":97,"column":6},"action":"remove","lines":["# "]},{"start":{"row":98,"column":4},"end":{"row":98,"column":6},"action":"remove","lines":["# "]},{"start":{"row":99,"column":4},"end":{"row":99,"column":6},"action":"remove","lines":["# "]}],[{"start":{"row":105,"column":4},"end":{"row":105,"column":6},"action":"remove","lines":["# "],"id":366}],[{"start":{"row":91,"column":4},"end":{"row":91,"column":6},"action":"remove","lines":["# "],"id":367}],[{"start":{"row":86,"column":0},"end":{"row":129,"column":0},"action":"remove","lines":["def test_login_with_username_and_password_returns_access_token():","","    # Arrange","    username = \"mohana\"","    password = \"krisna\"","    user_id = 1","    is_admin = True","    access_token=\"1234\",","","    access_token_dto = AccessTokenDto(","        access_token=\"1234\",","        refresh_token=\"123\",","        expires_in=100000000,","        is_admin=True)","","    storage = create_autospec(LoginStorageInterface)","    presenter = create_autospec(PresenterInterface)","    oauth2_storage = create_autospec(OAuth2SQLStorage)","","    storage.validate_username.return_value = user_id","","    interactor = LoginInteractor(","        storage=storage,","        presenter=presenter,","        oauth2_storage=oauth2_storage","    )","","    # Act","    with patch.object(OAuthUserAuthTokensService, \\","                    'create_user_auth_tokens', return_value=access_token_dto):","","        interactor.login(username=username, password=password)","","    # Assert","    storage.validate_username.assert_called_once_with(username=username)","    storage.validate_password.assert_called_once_with(","        username=username,","        password=password","    )","","    presenter.get_access_token.assert_called_once_with(","        is_admin=is_admin,","        access_token=access_token)",""],"id":368},{"start":{"row":85,"column":0},"end":{"row":86,"column":0},"action":"remove","lines":["",""]},{"start":{"row":84,"column":0},"end":{"row":85,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":1136,"scrollleft":0,"selection":{"start":{"row":84,"column":0},"end":{"row":84,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":65,"state":"start","mode":"ace/mode/python"}},"timestamp":1591431195938,"hash":"a87c7b806664085e888b4ff1f2ea89f753c94c18"}